{
  "name": "Handicap Asiático Série C - Betano V2",
  "description": "Workflow otimizado e corrigido para extrair dados de handicap asiático",
  "nodes": [
    {
      "id": "start-node",
      "type": "custom",
      "position": {
        "x": 244.27067101027077,
        "y": 68.28819998400382
      },
      "data": {
        "label": "Start",
        "action": "start",
        "config": {},
        "variables": {},
        "executionStatus": "idle"
      },
      "deletable": false,
      "draggable": true,
      "sourcePosition": "bottom",
      "style": {
        "background": "#16A34A",
        "color": "white",
        "border": "2px solid #15803D",
        "borderRadius": "8px",
        "fontWeight": "bold"
      },
      "width": 204,
      "height": 159
    },
    {
      "id": "response-node",
      "type": "custom",
      "position": {
        "x": 514.7742576650446,
        "y": 4200
      },
      "data": {
        "label": "Response",
        "action": "response",
        "config": {},
        "variables": {},
        "executionStatus": "idle"
      },
      "deletable": false,
      "draggable": true,
      "targetPosition": "top",
      "style": {
        "background": "#DC2626",
        "color": "white",
        "border": "2px solid #B91C1C",
        "borderRadius": "8px",
        "fontWeight": "bold"
      },
      "width": 204,
      "height": 114
    },
    {
      "id": "node_navigate_betano",
      "type": "custom",
      "position": {
        "x": 129.388855803994,
        "y": 286.3570682643137
      },
      "data": {
        "label": "Navegar Betano Série C",
        "action": "navigate",
        "config": {
          "navigate": {
            "url": "https://www.betano.bet.br/sport/futebol/brasil/brasileirao-serie-c/18249/",
            "waitUntil": "networkidle"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 450,
      "height": 160
    },
    {
      "id": "node_check_age_modal",
      "type": "custom",
      "position": {
        "x": 247.0086749256606,
        "y": 504.79894215936304
      },
      "data": {
        "label": "Verificar Modal Idade",
        "action": "isVisible",
        "config": {
          "isVisible": {
            "selector": "#age-verification-modal",
            "timeout": "2000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 218,
      "height": 160
    },
    {
      "id": "node_close_age_modal",
      "type": "custom",
      "position": {
        "x": -64.89618385538515,
        "y": 706.4650928332364
      },
      "data": {
        "label": "Fechar Modal Idade",
        "action": "click",
        "config": {
          "click": {
            "selector": "#age-verification-modal button.button-class",
            "waitBefore": "500"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 450,
      "height": 160
    },
    {
      "id": "node_wait_after_modals",
      "type": "custom",
      "position": {
        "x": 249.01746213774555,
        "y": 900
      },
      "data": {
        "label": "Aguardar Página",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "2000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 200,
      "height": 160
    },
    {
      "id": "node_check_landing_modal",
      "type": "custom",
      "position": {
        "x": 249.01746213774555,
        "y": 1100
      },
      "data": {
        "label": "Verificar Landing Modal",
        "action": "isVisible",
        "config": {
          "isVisible": {
            "selector": "#landing-page-modal button.sb-modal__close",
            "timeout": "2000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 450,
      "height": 160
    },
    {
      "id": "node_close_landing_modal",
      "type": "custom",
      "position": {
        "x": 25.28059658459449,
        "y": 1300
      },
      "data": {
        "label": "Fechar Landing Modal",
        "action": "click",
        "config": {
          "click": {
            "selector": "#landing-page-modal button.sb-modal__close",
            "waitBefore": "500"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 450,
      "height": 160
    },
    {
      "id": "node_wait_for_games",
      "type": "custom",
      "position": {
        "x": 249.01746213774555,
        "y": 1500
      },
      "data": {
        "label": "Aguardar Jogos Carregarem",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "3000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_check_games",
      "type": "custom",
      "position": {
        "x": 249.01746213774555,
        "y": 1700
      },
      "data": {
        "label": "Verificar Jogos Disponíveis",
        "action": "isVisible",
        "config": {
          "isVisible": {
            "selector": "div[data-qa=\"pre-event\"]",
            "timeout": "5000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_extract_game_urls",
      "type": "custom",
      "position": {
        "x": 214.55385798651082,
        "y": 1950
      },
      "data": {
        "label": "Extrair URLs dos Jogos",
        "action": "extractUrls",
        "config": {
          "extractUrls": {
            "selector": "div[data-qa=\"pre-event\"] a",
            "baseUrl": "https://www.betano.bet.br",
            "filterDuplicates": true,
            "variableName": "gameUrls"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 300,
      "height": 160
    },
    {
      "id": "node_loop_games",
      "type": "custom",
      "position": {
        "x": 177.37841922253875,
        "y": 2200
      },
      "data": {
        "label": "Loop pelos Jogos",
        "action": "loop",
        "config": {
          "loop": {
            "type": "array",
            "arrayVariable": "gameUrls",
            "itemVariable": "currentGameUrl",
            "indexVariable": "gameIndex"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_navigate_to_game",
      "type": "custom",
      "position": {
        "x": 0.07702859132706408,
        "y": 2450
      },
      "data": {
        "label": "Abrir Página do Jogo",
        "action": "navigate",
        "config": {
          "navigate": {
            "urlVariable": "currentGameUrl",
            "waitUntil": "domcontentloaded"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 304,
      "height": 160
    },
    {
      "id": "node_wait_game_load",
      "type": "custom",
      "position": {
        "x": 16.21784387716218,
        "y": 2650
      },
      "data": {
        "label": "Aguardar Jogo Carregar",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "2000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_check_asian_lines",
      "type": "custom",
      "position": {
        "x": 16.21784387716218,
        "y": 2850
      },
      "data": {
        "label": "Verificar Asian Lines",
        "action": "isVisible",
        "config": {
          "isVisible": {
            "selector": "[data-qa=\"asianlines\"]",
            "timeout": "3000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_click_asian_lines",
      "type": "custom",
      "position": {
        "x": -32.21327731521654,
        "y": 3050
      },
      "data": {
        "label": "Clicar em Asian Lines",
        "action": "click",
        "config": {
          "click": {
            "selector": "[data-qa=\"asianlines\"]",
            "waitBefore": "500"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_wait_markets_load",
      "type": "custom",
      "position": {
        "x": -53.918979646824674,
        "y": 3250
      },
      "data": {
        "label": "Aguardar Mercados",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "1500"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_extract_handicap_data",
      "type": "custom",
      "position": {
        "x": -122.74027243730926,
        "y": 3450
      },
      "data": {
        "label": "Extrair Dados Handicap",
        "action": "extractHtml",
        "config": {
          "extractHtml": {
            "selector": ".markets",
            "variableName": "handicapData_${gameIndex}"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 300,
      "height": 160
    },
    {
      "id": "node_skip_asian_lines",
      "type": "custom",
      "position": {
        "x": 300,
        "y": 3050
      },
      "data": {
        "label": "Pular (Sem Asian Lines)",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "100"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 250,
      "height": 160
    },
    {
      "id": "node_no_games_wait",
      "type": "custom",
      "position": {
        "x": 600,
        "y": 1950
      },
      "data": {
        "label": "Sem Jogos - Aguardar",
        "action": "waitTime",
        "config": {
          "waitTime": {
            "duration": "5000"
          }
        },
        "variables": {},
        "executionStatus": "idle"
      },
      "width": 200,
      "height": 160
    }
  ],
  "edges": [
    {
      "id": "start-navigate",
      "source": "start-node",
      "target": "node_navigate_betano",
      "type": "default"
    },
    {
      "id": "navigate-check-age",
      "source": "node_navigate_betano",
      "target": "node_check_age_modal",
      "type": "default"
    },
    {
      "id": "age-modal-true-close",
      "source": "node_check_age_modal",
      "sourceHandle": "true",
      "target": "node_close_age_modal",
      "type": "default"
    },
    {
      "id": "age-modal-false-wait",
      "source": "node_check_age_modal",
      "sourceHandle": "false",
      "target": "node_wait_after_modals",
      "type": "default"
    },
    {
      "id": "close-age-wait",
      "source": "node_close_age_modal",
      "target": "node_wait_after_modals",
      "type": "default"
    },
    {
      "id": "wait-check-landing",
      "source": "node_wait_after_modals",
      "target": "node_check_landing_modal",
      "type": "default"
    },
    {
      "id": "landing-true-close",
      "source": "node_check_landing_modal",
      "sourceHandle": "true",
      "target": "node_close_landing_modal",
      "type": "default"
    },
    {
      "id": "landing-false-wait-games",
      "source": "node_check_landing_modal",
      "sourceHandle": "false",
      "target": "node_wait_for_games",
      "type": "default"
    },
    {
      "id": "close-landing-wait-games",
      "source": "node_close_landing_modal",
      "target": "node_wait_for_games",
      "type": "default"
    },
    {
      "id": "wait-check-games",
      "source": "node_wait_for_games",
      "target": "node_check_games",
      "type": "default"
    },
    {
      "id": "games-true-extract",
      "source": "node_check_games",
      "sourceHandle": "true",
      "target": "node_extract_game_urls",
      "type": "default"
    },
    {
      "id": "games-false-no-games",
      "source": "node_check_games",
      "sourceHandle": "false",
      "target": "node_no_games_wait",
      "type": "default"
    },
    {
      "id": "extract-loop",
      "source": "node_extract_game_urls",
      "target": "node_loop_games",
      "type": "default"
    },
    {
      "id": "loop-navigate",
      "source": "node_loop_games",
      "sourceHandle": "loop",
      "target": "node_navigate_to_game",
      "type": "default"
    },
    {
      "id": "navigate-wait",
      "source": "node_navigate_to_game",
      "target": "node_wait_game_load",
      "type": "default"
    },
    {
      "id": "wait-check-asian",
      "source": "node_wait_game_load",
      "target": "node_check_asian_lines",
      "type": "default"
    },
    {
      "id": "asian-true-click",
      "source": "node_check_asian_lines",
      "sourceHandle": "true",
      "target": "node_click_asian_lines",
      "type": "default"
    },
    {
      "id": "asian-false-skip",
      "source": "node_check_asian_lines",
      "sourceHandle": "false",
      "target": "node_skip_asian_lines",
      "type": "default"
    },
    {
      "id": "click-wait-markets",
      "source": "node_click_asian_lines",
      "target": "node_wait_markets_load",
      "type": "default"
    },
    {
      "id": "wait-extract",
      "source": "node_wait_markets_load",
      "target": "node_extract_handicap_data",
      "type": "default"
    },
    {
      "id": "loop-after-response",
      "source": "node_loop_games",
      "sourceHandle": "after",
      "target": "response-node",
      "type": "default"
    },
    {
      "id": "no-games-response",
      "source": "node_no_games_wait",
      "target": "response-node",
      "type": "default"
    }
  ],
  "timestamp": "2025-07-18T22:15:00.000Z"
}